<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <!-- Meta tags para SEO e redes sociais -->
  <meta name="description" content="Só Ouvi Falar – Conteúdo que Transforma. Descubra posts sobre Finanças, Jogos, Notícias, Contos, Discussões, Saúde & Cuidados Pessoais e Cursos.">
  <meta name="keywords" content="Finanças, Jogos, Notícias, Contos, Discussões, Saúde, Cursos, Blog">
  <meta property="og:title" content="Só Ouvi Falar - Conteúdo que Transforma">
  <meta property="og:description" content="Descubra conteúdos diversos que transformam seu dia.">
  <meta property="og:image" content="https://firebasestorage.googleapis.com/v0/b/fina-kenway.firebasestorage.app/o/Fundo.webp?alt=media&token=ddf14962-80d3-4084-b3c7-61ce5866dba6">
  <meta property="og:url" content="https://soouvifalar.com.br/">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Só Ouvi Falar - Conteúdo que Transforma</title>
  <link href="https://fonts.googleapis.com/css?family=Poppins:400,600&display=swap" rel="stylesheet">
  <style>
    /* Reset e estilos gerais */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Poppins', sans-serif;
      background: url('https://firebasestorage.googleapis.com/v0/b/fina-kenway.firebasestorage.app/o/Fundo.webp?alt=media&token=ddf14962-80d3-4084-b3c7-61ce5866dba6') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      line-height: 1.6;
    }
    header {
      background: rgba(0, 0, 0, 0.75);
      padding: 60px 20px;
      text-align: center;
      font-size: 2.5em;
      font-weight: 600;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
    }
    /* Barra de navegação fixa */
    nav {
      background: #222;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      padding: 15px;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    nav a {
      color: #fff;
      text-decoration: none;
      padding: 10px 20px;
      margin: 5px;
      border-radius: 5px;
      transition: background 0.3s;
    }
    nav a:hover {
      background: #ff0000;
    }
    /* Barra de busca */
    .search-container {
      text-align: center;
      margin: 20px 0;
    }
    .search-container input {
      width: 80%;
      max-width: 500px;
      padding: 10px;
      border: none;
      border-radius: 5px;
      font-size: 1em;
    }
    .container {
      max-width: 1200px;
      margin: 40px auto;
      padding: 20px;
      background: rgba(30, 30, 30, 0.95);
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
    }
    .container h2 {
      margin-bottom: 20px;
      font-size: 2em;
      text-align: center;
      color: #ff0000;
    }
    .post {
      background: #252525;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.4);
      transition: transform 0.3s ease;
    }
    .post:hover {
      transform: scale(1.02);
    }
    .post h2 {
      font-size: 1.5em;
      margin-bottom: 10px;
      cursor: pointer;
      color: #ff0000;
    }
    .post-content {
      display: none;
      margin-top: 10px;
    }
    .post-content img {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 10px;
    }
    .post-content p {
      font-size: 1.1em;
      text-align: justify;
      margin-bottom: 10px;
    }
    .actions {
      display: flex;
      justify-content: space-around;
      margin-top: 10px;
    }
    .actions button {
      background: #ff0000;
      color: #fff;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .actions button:hover {
      background: #e60000;
    }
    footer {
      background: linear-gradient(90deg, #ff0000, #8a2be2, #00ffff);
      text-align: center;
      padding: 15px;
      font-size: 1em;
      margin-top: 40px;
    }
    footer a {
      color: #fff;
      text-decoration: none;
      margin: 0 5px;
      font-weight: 600;
    }
    /* Social media e newsletter no rodapé */
    .footer-extra {
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .social-icons a {
      margin: 0 10px;
      color: #fff;
      font-size: 1.2em;
      text-decoration: none;
    }
    .newsletter {
      margin-top: 15px;
    }
    .newsletter input[type="email"] {
      padding: 8px;
      border: none;
      border-radius: 5px;
      margin-right: 5px;
      font-size: 1em;
    }
    .newsletter input[type="submit"] {
      padding: 8px 12px;
      border: none;
      border-radius: 5px;
      background: #ff0000;
      color: #fff;
      font-size: 1em;
      cursor: pointer;
      transition: background 0.3s;
    }
    .newsletter input[type="submit"]:hover {
      background: #e60000;
    }
    /* Botão Voltar ao Topo */
    #backToTop {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #ff0000;
      color: #fff;
      border: none;
      padding: 10px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2em;
      display: none;
      z-index: 1001;
    }
  </style>
  <script>
    // Redireciona para HTTPS se necessário
    if (location.protocol !== 'https:') {
      location.href = 'https:' + window.location.href.substring(window.location.protocol.length);
    }
  </script>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4859599011548606" crossorigin="anonymous"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>
<body>
  <header>
    Só Ouvi Falar - Conteúdo que Transforma
  </header>
  <nav>
    <a href="#" onclick="renderPosts('Finanças')">Finanças</a>
    <a href="#" onclick="renderPosts('Jogos')">Jogos</a>
    <a href="#" onclick="renderPosts('Notícias')">Notícias</a>
    <a href="#" onclick="renderPosts('Contos')">Contos</a>
    <a href="#" onclick="renderPosts('Discussões')">Discussões</a>
    <a href="#" onclick="renderPosts('Saúde')">Saúde & Cuidados Pessoais</a>
    <a href="#" onclick="renderPosts('Cursos')">Cursos</a>
  </nav>
  
  <!-- Barra de busca para filtrar posts pelo título -->
  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Buscar posts..." onkeyup="searchPosts()">
  </div>
  
  <div class="container">
    <h2>Últimas Postagens</h2>
    <div id="posts">
      <!-- As postagens serão carregadas aqui -->
    </div>
  </div>
  
  <footer>
    <p>© 2025 Só Ouvi Falar - Conteúdo que Transforma.</p>
    <p>
      <a href="politica-de-privacidade.html">Política de Privacidade</a> | 
      <a href="termos-de-uso.html">Termos de Uso</a>
    </p>
    <div class="footer-extra">
      <div class="social-icons">
        <a href="https://facebook.com" target="_blank">Facebook</a>
        <a href="https://twitter.com" target="_blank">Twitter</a>
        <a href="https://instagram.com" target="_blank">Instagram</a>
      </div>
      <div class="newsletter">
        <form onsubmit="subscribeNewsletter(event)">
          <input type="email" id="newsletterEmail" placeholder="Seu e-mail" required>
          <input type="submit" value="Inscrever">
        </form>
      </div>
    </div>
  </footer>
  
  <!-- Botão Voltar ao Topo -->
  <button id="backToTop" onclick="scrollToTop()">↑</button>
  
  <script>
    // Configuração do Firebase
    document.addEventListener("DOMContentLoaded", function () {
      const firebaseConfig = {
        apiKey: "AIzaSyBsMk5SshHKwY7y7zi4cgc8uI-Jz2q_e8M",
        authDomain: "fina-kenway.firebaseapp.com",
        projectId: "fina-kenway",
        storageBucket: "fina-kenway.appspot.com",
        messagingSenderId: "559758011438",
        appId: "1:559758011438:web:86329ee53ab213ab87c3bf",
        measurementId: "G-1D036HTJPP"
      };
      firebase.initializeApp(firebaseConfig);
      const db = firebase.firestore();

      // Alterna a visualização do conteúdo do post (minimizado/expandido)
      window.togglePostContent = function(element) {
        const contentDiv = element.nextElementSibling;
        contentDiv.style.display = (contentDiv.style.display === "block") ? "none" : "block";
      };

      // Atualiza os likes com restrição via localStorage
      window.likePost = function(postId) {
        if (localStorage.getItem("liked_" + postId)) {
          alert("Você já curtiu esse post!");
          return;
        }
        const postRef = db.collection("posts").doc(postId);
        postRef.update({ likes: firebase.firestore.FieldValue.increment(1) })
          .then(() => {
            localStorage.setItem("liked_" + postId, "true");
            const countElem = document.querySelector(`#post-${postId} .like-count`);
            countElem.innerText = parseInt(countElem.innerText) + 1;
          })
          .catch((error) => console.error("Erro ao dar like: ", error));
      };

      // Atualiza os dislikes com restrição via localStorage
      window.dislikePost = function(postId) {
        if (localStorage.getItem("disliked_" + postId)) {
          alert("Você já descurtiu esse post!");
          return;
        }
        const postRef = db.collection("posts").doc(postId);
        postRef.update({ dislikes: firebase.firestore.FieldValue.increment(1) })
          .then(() => {
            localStorage.setItem("disliked_" + postId, "true");
            const countElem = document.querySelector(`#post-${postId} .dislike-count`);
            countElem.innerText = parseInt(countElem.innerText) + 1;
          })
          .catch((error) => console.error("Erro ao dar dislike: ", error));
      };

      // Renderiza as postagens em tempo real utilizando onSnapshot
      window.renderPosts = function(category) {
        const postContainer = document.getElementById("posts");
        postContainer.innerHTML = "<p>Carregando postagens...</p>";
        db.collection("posts")
          .where("category", "==", category)
          .orderBy("date", "desc")
          .onSnapshot((snapshot) => {
            postContainer.innerHTML = "";
            if (snapshot.empty) {
              postContainer.innerHTML = "<p>Nenhuma postagem encontrada nesta categoria.</p>";
            } else {
              snapshot.forEach((doc) => {
                const post = doc.data();
                const postId = doc.id;
                const postElement = document.createElement("div");
                postElement.classList.add("post");
                postElement.id = "post-" + postId;
                postElement.innerHTML = `
                  <h2 onclick="togglePostContent(this)">${post.title}</h2>
                  <div class="post-content">
                    ${ post.image ? `<img src="${post.image}" alt="Imagem do post">` : '' }
                    ${ Array.isArray(post.content) ? post.content.map(item => `<p>${item}</p>`).join('') : `<p>${post.content}</p>` }
                    <div class="actions">
                      <button onclick="likePost('${postId}')">👍 <span class="like-count">${post.likes || 0}</span></button>
                      <button onclick="dislikePost('${postId}')">👎 <span class="dislike-count">${post.dislikes || 0}</span></button>
                    </div>
                  </div>
                `;
                postContainer.appendChild(postElement);
              });
            }
          }, (error) => {
            postContainer.innerHTML = "<p>Erro ao carregar postagens.</p>";
            console.error("Erro ao monitorar postagens: ", error);
          });
      };

      // Inicialmente carrega a categoria "Finanças"
      renderPosts("Finanças");

      // Exibe o botão Voltar ao Topo quando a página é rolada
      window.addEventListener("scroll", function() {
        document.getElementById("backToTop").style.display = (window.scrollY > 300) ? "block" : "none";
      });
    });

    // Função para filtrar posts pelo título
    function searchPosts() {
      const input = document.getElementById("searchInput");
      const filter = input.value.toUpperCase();
      const posts = document.getElementById("posts").getElementsByClassName("post");
      for (let i = 0; i < posts.length; i++) {
        const titleElem = posts[i].getElementsByTagName("h2")[0];
        if (titleElem) {
          const txtValue = titleElem.textContent || titleElem.innerText;
          posts[i].style.display = txtValue.toUpperCase().indexOf(filter) > -1 ? "" : "none";
        }
      }
    }

    // Função para simular inscrição na newsletter
    function subscribeNewsletter(event) {
      event.preventDefault();
      const email = document.getElementById("newsletterEmail").value;
      alert("Obrigado por se inscrever, " + email + "!");
      document.getElementById("newsletterEmail").value = "";
    }

    // Função para voltar ao topo
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  </script>
</body>
</html>
